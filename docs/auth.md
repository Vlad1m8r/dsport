# Аутентификация и авторизация

## Подход
Используется Telegram Mini App initData.

## Реализация (MVP)
- Заголовок: X-Tg-Init-Data
- Парсинг user.id из initData (упрощённо).
- Создание AppUser при первом запросе.

## Текущие ограничения
- Подпись Telegram не проверяется криптографически.
- Решение осознанно временное.

## Контекст пользователя
- Пользователь извлекается в фильтре.
- Доступен в сервисах через CurrentUserService / context.
- Все данные фильтруются по userId.

## План улучшения
- Добавить HMAC-проверку initData.
- Возможное подключение Spring Security.
